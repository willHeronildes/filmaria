{"version":3,"sources":["services/api.js","pages/Home/index.js","pages/Filme/index.js","pages/Favoritos/index.js","pages/Erro/index.js","components/Header/index.js","routes.js","App.js","index.js"],"names":["api","axios","create","baseURL","Home","useState","filmes","setFilmes","useEffect","a","get","response","data","loadFilmes","className","map","filme","nome","src","foto","alt","to","id","Filme","useParams","history","useHistory","setFilme","loading","setLoading","contador","setContador","setPrint","length","replace","loadFilme","console","log","sinopse","target","href","onClick","type","name","value","minhaLista","localStorage","getItem","filmesSalvos","JSON","parse","some","filmeSalvo","toast","error","push","setItem","stringify","success","window","print","Favoritos","item","filtroFilmes","filter","handleDelet","Erro","Header","Routes","exact","path","component","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oVAYeA,E,OAJHC,EAAMC,OAAO,CACtBC,QAAS,oC,OCyBKC,MA7BjB,WACE,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAWE,OATFC,qBAAU,WAAI,4CAEZ,4BAAAC,EAAA,sEAC4BT,EAAIU,IAAI,qBADpC,OACWC,EADX,OAEKJ,EAAUI,EAASC,MAFxB,4CAFY,uBAAC,WAAD,wBAOZC,KACC,IAEC,qBAAKC,UAAU,YAAf,SACE,qBAAKA,UAAU,eAAf,SACGR,EAAOS,KAAI,SAACC,GACX,OACE,oCACG,uCAAUA,EAAMC,KAAhB,OACA,qBAAKC,IAAKF,EAAMG,KAAMC,IAAKJ,EAAMC,OACjC,cAAC,IAAD,CAAMI,GAAE,iBAAYL,EAAMM,IAA1B,uBAHWN,EAAMM,Y,eCdnB,SAASC,IACrB,IAAQD,EAAOE,cAAPF,GACFG,EAAUC,cAChB,EAA0BrB,mBAAS,IAAnC,mBAAOW,EAAP,KAAcW,EAAd,KACA,EAA8BtB,oBAAS,GAAvC,mBAAOuB,EAAP,KAAgBC,EAAhB,KACA,EAAgCxB,mBAAS,GAAzC,mBAAOyB,EAAP,KAAiBC,EAAjB,KACA,EAA0B1B,qBAA1B,mBAAc2B,GAAd,WA6CA,OA3CAxB,qBAAU,WAAI,4CACV,4BAAAC,EAAA,sEAC2BT,EAAIU,IAAJ,4BAA6BY,IADxD,UAGgC,KAFtBX,EADV,QAGgBC,KAAKqB,OAHrB,uBAKQR,EAAQS,QAAQ,KALxB,0BASIP,EAAShB,EAASC,MAClBiB,GAAW,GAVf,4CADU,sBAgBV,OAhBW,WAAD,wBAcVM,GAEM,WACHC,QAAQC,IAAI,4BAGhB,CAACZ,EAASH,IAuBVM,EAEK,qBAAKd,UAAU,aAAf,SACI,2DAMP,sBAAKA,UAAU,aAAf,UACG,mCAAME,EAAMC,KAAZ,OACA,qBAAKC,IAAKF,EAAMG,KAAMC,IAAKJ,EAAMC,OACjC,yCACA,kCAAKD,EAAMsB,QAAX,OAEA,sBAAKxB,UAAU,SAAf,UACI,iCACI,mBAAGyB,OAAO,SAASC,KAAI,mDAA8CxB,EAAMC,KAApD,YAAvB,uBAIJ,sBAAKH,UAAU,UAAf,UACG,iEACA,wBAAQ2B,QAAS,kBAAKV,EAAYD,EAAW,IAA7C,iBACA,uBAAOY,KAAK,OAAOpB,GAAG,OAAOqB,KAAK,OAAOC,MAAOd,IAChD,wBAAQW,QAAS,kBAAKV,EAAYD,EAAW,IAA7C,iBACA,wBAAQW,QA/CvB,WAEE,IAAMI,EAAaC,aAAaC,QAAQ,UAEpCC,EAAeC,KAAKC,MAAML,IAAe,GAI5BG,EAAaG,MAAK,SAACC,GAAD,OAAeA,EAAW9B,KAAON,EAAMM,MAGtE+B,IAAMC,MAAM,2CAIhBN,EAAaO,KAAKvC,GAClB8B,aAAaU,QAAQ,SAAUP,KAAKQ,UAAUT,IAC9CK,IAAMK,QAAQ,8BA8BD,uBAEH,+BACO,uBAAOhB,KAAK,SAASE,MAAM,WAAWH,QAAS,kBAAKT,EAAS2B,OAAOC,kB,MClF3E,SAASC,IACpB,MAA4BxD,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAiBA,OAfAC,qBAAU,WACP,IAAMqC,EAAaC,aAAaC,QAAQ,UACxCxC,EAAU0C,KAAKC,MAAML,IAAc,MACnC,IAaC,sBAAK/B,UAAU,cAAf,UACI,6CAEmB,IAAlBR,EAAO2B,QAAgB,gFAExB,6BACI3B,EAAOS,KAAI,SAAC+C,GACX,OACG,+BACE,+BAAOA,EAAK7C,OACZ,gCACG,cAAC,IAAD,CAAMI,GAAE,iBAAYyC,EAAKxC,IAAzB,0BACA,wBAAQmB,QAAS,kBAvBvC,SAAqBnB,GACjB,IAAIyC,EAAezD,EAAO0D,QAAO,SAACF,GAC9B,OAAQA,EAAKxC,KAAOA,KAGxBf,EAAUwD,GACVjB,aAAaU,QAAQ,SAAUP,KAAKQ,UAAUM,IAC9CV,IAAMK,QAAQ,8BAgB0BO,CAAYH,EAAKxC,KAAvC,0BAJIwC,EAAKxC,Y,MC7BnB,SAAS4C,IACpB,OACI,sBAAKpD,UAAU,YAAf,UACI,qCACA,2DACA,cAAC,IAAD,CAAMO,GAAG,IAAT,qC,MCNG,SAAS8C,IACpB,OACI,mCACI,cAAC,IAAD,CAAMrD,UAAU,OAAOO,GAAG,IAA1B,sBACA,cAAC,IAAD,CAAMP,UAAU,YAAYO,GAAG,aAA/B,uBCEZ,IAee+C,EAfA,WACb,OACE,eAAC,IAAD,WACE,cAACD,EAAD,IACA,mCACE,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAIC,UAAWnE,IACjC,cAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,aAAaC,UAAWhD,IAC1C,cAAC,IAAD,CAAO8C,OAAK,EAACC,KAAK,aAAaC,UAAWV,IAC1C,cAAC,IAAD,CAAOS,KAAM,IAAGC,UAAWL,W,MCDpBM,MATf,WACE,OACE,sBAAK1D,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAgB2D,UAAW,UCNjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.33f99e64.chunk.js","sourcesContent":["import axios from 'axios';\n\n// Base URL > https://sujeitoprogramador.com/\n\n//r-api/?api=filmes/ (TODOS OS FILMES)\n\n//r-api/?api=filmes/123 (FILME COM ID 123)\n\nconst api = axios.create({\n   baseURL: 'https://sujeitoprogramador.com/'\n});\n\nexport default api;","import { useEffect, useState } from 'react';\nimport './home.css';\nimport api from '../../services/api'\nimport { Link } from 'react-router-dom'\n\nfunction Home() {\n  const [filmes, setFilmes] = useState([]);\n  \n  useEffect(()=>{\n\n    async function loadFilmes(){\n         const response = await api.get('r-api/?api=filmes')\n         setFilmes(response.data);\n    }\n\n    loadFilmes();\n  }, []);\n    return (\n      <div className=\"container\">\n        <div className=\"lista-filmes\">\n          {filmes.map((filme)=>{\n            return(\n              <article key={filme.id}>\n                 <strong> {filme.nome} </strong>\n                 <img src={filme.foto} alt={filme.nome} />\n                 <Link to={`/filme/${filme.id}`}>Acessar</Link>\n              </article>\n            )\n          })}\n        </div>  \n      </div>\n    );\n  }\n  \n  export default Home;\n  ","\nimport { useEffect, useState } from 'react';\nimport './filme-info.css';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport api from '../../services/api';\n\n\nexport default function Filme(){\n   const { id } = useParams();\n   const history = useHistory();\n   const [filme, setFilme] = useState([]);\n   const [loading, setLoading] = useState(true);\n   const [contador, setContador] = useState(0);\n   const [print, setPrint] = useState ();\n\n   useEffect(()=>{\n       async function loadFilme(){\n           const response = await api.get(`r-api/?api=filmes/${id}`);\n\n           if(response.data.length === 0){\n               //tentou acessar com id que não existe, navego para home!\n               history.replace('/');\n               return;\n           }\n\n           setFilme(response.data);\n           setLoading(false);\n       }\n\n       loadFilme();\n\n       return() => {\n          console.log('COMPONENTE DESMONTADO');\n       }\n\n   }, [history, id]);\n\n   function salvaFilme(){\n\n     const minhaLista = localStorage.getItem('filmes');\n\n     let filmesSalvos = JSON.parse(minhaLista) || [];\n\n     // se tiver algum filme salvo com esse mesmo id precisa ignorar..\n\n     const hasFilme = filmesSalvos.some((filmeSalvo)=> filmeSalvo.id === filme.id)\n\n     if(hasFilme){\n         toast.error('Você já possui esse filme salvo.');\n         return;\n     }\n\n     filmesSalvos.push(filme);\n     localStorage.setItem('filmes', JSON.stringify(filmesSalvos));\n     toast.success('Filme salvo com sucesso!');\n\n   }\n\n   if(loading){\n       return(\n           <div className=\"filme-info\">\n               <h1>Carregando seu Filme...</h1>\n           </div>\n       )\n   }\n\n    return(\n        <div className=\"filme-info\">\n           <h1> {filme.nome} </h1>\n           <img src={filme.foto} alt={filme.nome} />\n           <h3>Sinopse</h3>\n           <p> {filme.sinopse} </p>\n\n           <div className=\"botoes\">\n               <button>\n                   <a target=\"_blank\" href={`https://youtube.com/results?search_query=${filme.nome} Trailer`}>\n                     Trailer  \n                   </a>\n               </button>\n               <div className=\"btn-add\">\n                  <h3>Selecione quantos deseja salvar</h3>\n                  <button onClick={()=> setContador(contador - 1)}> - </button>\n                  <input type=\"text\" id=\"cont\" name=\"cont\" value={contador}></input>\n                  <button onClick={()=> setContador(contador + 1)}> + </button>\n                  <button onClick={salvaFilme} >Salvar</button>\n               </div>\n               <form>\n                      <input type=\"button\" value=\"IMPRIMIR\" onClick={()=> setPrint(window.print)}/>\n               </form>\n           </div>    \n        </div>\n    );\n}","\nimport {useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport './favoritos.css';\nimport { toast } from 'react-toastify';\n\nexport default function Favoritos(){\n    const [filmes, setFilmes] = useState([]);\n\n    useEffect(()=>{\n       const minhaLista = localStorage.getItem('filmes');\n       setFilmes(JSON.parse(minhaLista)|| []);\n    }, []);\n\n   function handleDelet(id){\n       let filtroFilmes = filmes.filter((item)=>{\n           return (item.id !== id)\n       })\n\n       setFilmes(filtroFilmes);\n       localStorage.setItem('filmes', JSON.stringify(filtroFilmes))\n       toast.success('Filme excluido com sucesso');\n    }\n\n    return(\n        <div className=\"meus-filmes\">\n            <h1>Meus Filmes</h1>\n\n            {filmes.length === 0 && <span>Você não possui nenhum filme salvo :( </span>}\n\n            <ul>\n               {filmes.map((item)=>{\n                 return(\n                    <li key={item.id}>\n                      <span>{item.nome}</span>\n                      <div>\n                         <Link to={`/filme/${item.id}`}>Ver detalhes</Link>\n                         <button onClick={()=> handleDelet(item.id)}>Excluir</button>\n                      </div>\n                    </li> \n\n                 )\n               })} \n            </ul>\n        </div>\n    );\n}","\nimport './erro.css';\nimport { Link } from 'react-router-dom';\n\nexport default function Erro(){\n    return(\n        <div className=\"not-found\">\n            <h1>404</h1>\n            <h2>Pagina não encontrada!</h2>\n            <Link to=\"/\">Veja todos os filmes</Link>\n        </div>\n    )\n}","import './header.css';\nimport { Link } from 'react-router-dom';\n\nexport default function Header(){\n    return(\n        <header>\n            <Link className=\"logo\" to=\"/\" >Filmaria</Link>\n            <Link className=\"favoritos\" to=\"/favoritos\">Salvos</Link>\n        </header>\n    );\n}\n","import {BrowserRouter, Route, Switch} from 'react-router-dom';\n\nimport Home from './pages/Home';\nimport Filme from './pages/Filme';\nimport Favoritos from './pages/Favoritos';\nimport Erro from './pages/Erro';\n\nimport Header from './components/Header';\n\nconst Routes = () => {\n  return(\n    <BrowserRouter>\n      <Header/>\n      <switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/filme/:id\" component={Filme} />\n        <Route exact path=\"/favoritos\" component={Favoritos} />\n        <Route path =\"*\"component={Erro} />\n      </switch>\n    </BrowserRouter>\n  );\n    \n}\n\nexport default Routes;","import './styles.css';\nimport Routes from './routes';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer } from 'react-toastify';\n\n\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Routes/>\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}